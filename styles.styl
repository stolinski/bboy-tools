@import './styl/_easings.styl'
@import './styl/_vars.styl'
@import './styl/_funcs.styl'


@font-face 
  font-family: 'GrandmasterClash'
  src: url('/GrandmasterClash.eot')
  src: url('/GrandmasterClash.eot?#iefix') format('embedded-opentype'),
    url('/GrandmasterClash.woff') format('woff'),
    url('/GrandmasterClash.ttf') format('truetype')
  font-weight: normal
  font-style: normal



/*------------------------------------*\
  $BASE
\*------------------------------------*/


normalize-css()

html
  box-sizing: border-box
  height 100%

*, *:before, *:after
  box-sizing: inherit

body
  font-family: 'Avenir Next', 'Helvetica Neue', Helvetica, Arial, sans-serif;
  background url('img/comp.png');
  color text
  // padding-top: $headHeight
  height 100%
  > div, > div > div
    height 100%

p
  font-size 1.6em
  line-height 1.5

.logo
  font-family: 'GrandmasterClash'
  font-weight normal

h1
  font-family: 'GrandmasterClash'
  font-weight normal

h2
  font-family: 'GrandmasterClash'
  font-weight normal

button
  border none
  background transparent
  appearance none

.btn
  background white
  color black
  text-transform uppercase
  border none
  border-radius 40px
  padding: 15px 40px
  font-weight 700
  font-size $baseFont
  transition: all 0.3s
  border solid @background
  box-shadow 0 0 30px rgba(black, 0.5)
  &.btn-twitter
    background: social.twitter
    border-color: social.twitter
    color white
    margin-bottom: 1rem
  &.btn-cancel
    background red
    border solid @background
  &.btn-start
    background yellow
    border solid @background
  &.use-move
    margin-left 50px
    padding: 10px 50px

.page-wrapper
  min-height: 100%


header
  background black
  color #fff
  fixed top left
  width 100%
  height $headHeight
  z-index: z.nav
  text-align center
  box-shadow: 1px 3px 4px rgba(#000000, 0.22), -3px 1px 4px rgba(#000000, 0.15)
  transition all 0.3s ease
  .fa-navicon, .fa-times
    cursor pointer
    position: absolute
    top: 0
    right: 0
    padding 25px 20px
    font-size: 1.4em
  .fa-times
    display none
  clearfix()
  .logo
    margin 0
    padding 0 20px
    font-size: 31px
    font-family: 'GrandmasterClash'
    font-weight normal
    line-height: $headHeight
  +above($large)
    .logo
      float left
    .fa-navicon
      display none !important

.open
  .main-nav
    transform: translateX(0)
    transition all 0.4s ease-in
  .fa-navicon
    display none
  .fa-times
    display block

.main-nav
  transform: translateX(-100%)
  fixed top left
  width 100%
  height 100%
  padding-top 100px
  transition all 0.4s ease-out
  background black
  ul
    list-style none
    padding 0
    margin 0
    clearfix()
  ul li a
    padding 0 20px 
    color #FFF
    transition all 0.3s ease
    display block
    text-decoration none
    border-bottom 4px solid transparent
    height $headHeight
    line-height @height
    &:hover
      border-color yellow
      background black + 10
  +above($large)
    transform: none
    padding-top 0
    float right
    width auto
    position relative
    li
      font-size 16px
      float left
  button
    appearance none
    background transparent
    border none
    display block
    padding 0 20px
    color #FFF
    transition all 0.3s ease
    display block
    text-decoration none
    border-bottom 4px solid transparent
    width 100%
    height $headHeight
    line-height @height
    &:hover
      border-color yellow
      background black + 10




/*------------------------------------*\
  $HOME
\*------------------------------------*/

.home-layout
  header
    background rgba(black, 0.3)
  &.scrolled
    header
      background text
  main
    position relative
    z-index 8

.main-layout-wrapper
  display: flex
  flex-direction: column
  justify-content: space-between

.homepage-zone
  text-align left
  color #FFF
  height 100vh
  &.site-intro
    position relative
    overflow hidden
    clearfix()
    .site-intro-text
      position absolute
      bottom 0
      padding 20px
      width 100%
    p
      font-size 1.6em
      box-shadow 1px 1px 4px rgba(black, 0.3)
      display inline-block
      background #111
      padding 10px
    button
      width 100%
    +above($med)
      text-align right
      .site-intro-text
        top: 30px
        bottom: auto
      p
        font-size 2.6rem
      button
        width auto

.billboard
  z-index -1
  position absolute
  top 0
  left 50%
  transform translateX(-50%)
  min-width 100vw
  min-height 100vh




/*------------------------------------*\
  $MAINLAYOUT
\*------------------------------------*/

.main-layout
  width: 100%
  margin: $headHeight auto 0
  +above($large)
    width: 90%
    margin: $threeLines auto




/*------------------------------------*\
  $MOVES
\*------------------------------------*/

.brand-new-move
  display none

.types
  position relative
  background: #FFF
  width: 100%
  border-radius 4px
  box-shadow: 0 0px 28px rgba(0,0,0,0.5), 0 0px 23px rgba(0,0,0,0.5)
  h1
    font-size: 2.5rem
    text-align center
    color: black
    background white
    margin: 0
    padding $oneLine 0 0
  &.types-battle-mode
    overflow hidden
    .moves
      width 100%

.types-wrapper
  display: flex
  flex-wrap: wrap
  justify-content: space-between
  +above($small)
    padding 20px

.type
  width 100%
  +above($large)
    width: 48%
  h3
    border-bottom: solid 4px green
    font-size: 28px;
    padding 0 15px
    line-height $twoLines
    color text
    margin: "0 0 calc(%s - 4px)" % $oneLine
  for $label, $color in moves
    &.{$label}
      h3
        border-color $color

.moves
  list-style none
  padding 0
  margin 0 15px
  overflow hidden

.move
  position relative
  .move-value
    display inline-block
    background black
    color #FFF
    border-radius 50%
    font-size 0.7em
    font-weight 700
    width 25px
    height 25px
    line-height @height
    text-align center
    margin-left 10px
  .edit-toggle
    position absolute
    right 0
    opacity 0.1
    transition all 0.3s ease
  &.battle-mode
    .text
      display block
      text-align center
    .use-move
      display block
      text-align center
      width 100%
      margin-left 0
    +above($large)
      display flex
      .text
        text-align left
        display: inline-block
        width: 40%
      .use-move
        display block
        width auto
        text-align center

  &.battle-mode + .move
    border-top 1px solid rgba(blue, 0.2)
    padding-top 20px
  &:hover
    .edit-toggle
      opacity 0.5
    .move-value
      left 5px
  > .controls
    display none
    .delete.btn
      background red
      padding: 5px 10px
      margin-right 5px
    &.open
      display inline-block


.bmoves
  background: red
  list-style none
  padding 0
  overflow hidden
  box-shadow 0 0 30px rgba(black, 0.4) inset

.bmove-move
  background: white
  border-bottom solid 1px #ccc
  padding 20px
  display flex
  justify-content space-between
  .use-move
    appearance none
    background transparent
    border none
  

.trans
  trans()

.move-form
  margin-bottom: 17px;
  font-size 26px

.new-move
  display: flex
  justify-content space-apart
  input
    width 60%
    padding: 10px 13px 6px
    background: #EEEEEE
    border: none
    & + input
      width 25%
      margin-left 2.5%
  button
    margin-left 10px
    color blue

.add-new-move
  width 100%
  background #FFF
  border none
  color #D5D5D5
  border-top @color solid 4px
  padding 15px
  transform: translateY(-75px)
  transition all 0.3s ease
  &:focus
    outline none
  .form-toggle-icons
    top -5px
    width 20px
    height 20px
    position relative
    display inline-block
    i
      position absolute
      transition all 0.3s ease
  &.open
    transform: translateY(0)
    .fa-plus
      transform: scaleY(0)
  .form-toggle-text
    opacity 0
    white-space: nowrap
    display inline-block
    width 0
    overflow hidden
    transition all 0.3s ease
  &:hover
    .form-toggle-text
      opacity 1
      width 150px

.edit-move
  display none

.comboizer
  text-align center
  h3
  font-size 4rem


/*------------------------------------*\
  $STOPWATCH
\*------------------------------------*/


.stopwatch
  text-align center
  h3
    font-size 6em
    margin 0.4em 0
  .btn
    width 100%
    margin-bottom 20px
  +above($large)
    h3
      font-size 12em
      margin 2rem 0
    .box-container
      margin 2rem 0
    .btn
      width auto
      font-size 2em
      & + .btn
        margin-left 5px


.practice-tools, .battle-tools
  .types-wrapper
    display block
  h1
    margin-bottom 40px


.practice-tool
  display block
  text-decoration none
  color text
  margin-bottom 20px
  padding 0 0 20px
  elevation(1)
  transition all 0.3s ease
  h3
    color black
    border-bottom solid black
    margin 0
    font-size 1.5rem
    padding 10px
    font-weight: normal
    font-family: 'GrandmasterClash'
  p
    padding 10px
    margin 0
    line-height 1.2
    font-size 1.2rem
  &:hover
    elevation(3)


/*------------------------------------*\
  $BATTLE_MODE
\*------------------------------------*/

.btn-reset
  background green
  margin 40px auto
  display block
  padding: 10px 50px
  font-size 26px
  border-color green


.site-footer
  background #111
  color #FFF
  padding 20px
  z-index 8
  position relative
  .logo
    text-align center
    opacity 0.5

.newmove-enter
  animation-duration: .75s
  animation-name: fadeInLeft
  transform-origin: center bottom

.newmove-leave
  animation-name: zoomOut
  animation-duration: .75s
  background: yellow
  opacity: 1.0
  transition: opacity .5s ease-in

.pagetrans-appear
  transform: translate3d(0, 100vh, 0)
  transition: all .5s easeOutExpo
  opacity 0

.pagetrans-appear.pagetrans-appear-active
  transform: translate3d(0, 0, 0)
  opacity 1

.page-wrapper
  min-height: 100%
  margin-bottom: -142px
  padding 80px 0

.page-wrapper:after
  content: ""
  display: block

.site-footer, .page-wrap:after
  height: 142px

.book
  display none
  width 120px
  height 180px
  top -110px
  left 50%
  transform: translateX(-60px)
  position absolute
  border-radius 9px
  background #333
  box-shadow: 1px 3px 4px rgba(#000000, 0.22), -3px 1px 4px rgba(#000000, 0.15)
  +above($med)
    top -40px
    left -50px
    transform: translateX(0)
  p
    background #FFF
    font-size 56px
    margin 50px 10px
    border-radius 5px
    text-align center
  .book-title
    display none

.toggle-box
  h3
    margin 0
    line-height 1

.settings-panel
  display flex
  justify-content center
  padding 0 5%
  .form-row
    margin-right 10px
  label, input
    display block

.box-container
  display: flex
  justify-content space-around


.recorded-video
  width 100%

#gum
  display none

.login-link-text
  display none

/*------------------------------------*\
  $LOC
\*------------------------------------*/
.map
  width: 100%
  height: 100%

.map-container  
  position:fixed
  left:0
  top:65px
  text-align: center
  width: 100%
  height: calc(100vh - 207px)

form
  input
    margin-bottom 1rem
    width 100%
    padding 5px
    font-size 1.2rem
    background-color transparent
    border none
    border-bottom: white solid 4px
    color white
    &:focus
      border-color yellow

input::placeholder
  color: white

input:-webkit-autofill
  box-shadow: 0 0 0 30px black inset
  -webkit-text-fill-color: white

.login-window
  padding 40px 20px
  text-align center
  .btn
    width 100%
  .register-form, .login-form
    max-width 400px
    margin 0 auto
  .close
    margin-left auto
    display block
    max-width: 40px

.comboizer-filters
  display flex
  flex-wrap: wrap


input[type="checkbox"]
  display none
  + label
    border solid 2px black
    border-radius 22px
    padding 5px
    display block
    margin-right 5px
    margin-bottom 5px
  &:checked + label
    background black
    color white


.jukebox
  background black
  color white
  position: fixed;
  bottom: 0;
  left 0
  right 0
  z-index: 10;
  padding 5px
  text-align center
  .sb-soundplayer-play-btn
    .sb-soundplayer-play-icon
      width 30px
    &:nth-child(odd)
      .sb-soundplayer-play-icon
        width 20px
  .jukebox-controlls
    display flex
    justify-content center
  .sb-soundplayer-progress-container
    height 10px
    width 90%
    margin 0 auto
    background black + 50
    .sb-soundplayer-progress-inner
      height @height
      background white
  .sb-soundplayer-timer
    font-size 0.7rem
    opacity 0.5
    margin 4px 0 0

.paper
  background-image: linear-gradient(to top, rgba(blue, 0.05) 5%, rgba(#fff, 0) 5%);
  background-size: 100% $baseLine
  font-size: $baseFont
  line-height $baseLine